#include "scaler.h"
#include "vdma.h"
#include "xil_printf.h"
#include "sleep.h"
#include "instructionRegister.h"
#include "api.h"
#include "xparameters.h"

int main()
{
	configureScaler();
    configureVdma();

   for(int i = 0 ; i < 16; i++)
   {
    	setColorByPaletteId(i, (i+1) * 0xFFFF);
    	usleep(100000);
    }

    for(int i = 0 ; i < 4; i++)
    {
    	for(int x = 0 ; x < 16; x++)
    	{
    		for(int y = 0 ; y < 16; y++)
    		{
    			setPaletteIdForTileId(i, 0, x, y);
    			usleep(100000);
    		}
    	}

    }

    for(int x = 0 ; x < 64; x++)
    {
    	for(int y = 0; y < 64; y++)
    	{
    		setTileCoordBackground(0, x, y);
    		usleep(100000);
    	}
    }

    while(1)
    {
    	setColorByPaletteId(0, 0xFFFFFF);
    	sleep(1);
    }

    return 0;
}
